==2854== Memcheck, a memory error detector
==2854== Copyright (C) 2002-2022, and GNU GPL'd, by Julian Seward et al.
==2854== Using Valgrind-3.22.0 and LibVEX; rerun with -h for copyright info
==2854== Command: /usr/sbin/legacy-printer-app server
==2854== Parent PID: 1358
==2854== 
==2875== 
==2875== HEAP SUMMARY:
==2875==     in use at exit: 915,443 bytes in 29,364 blocks
==2875==   total heap usage: 31,722 allocs, 2,358 frees, 1,518,640 bytes allocated
==2875== 
==2875== LEAK SUMMARY:
==2875==    definitely lost: 0 bytes in 0 blocks
==2875==    indirectly lost: 0 bytes in 0 blocks
==2875==      possibly lost: 0 bytes in 0 blocks
==2875==    still reachable: 915,443 bytes in 29,364 blocks
==2875==         suppressed: 0 bytes in 0 blocks
==2875== Reachable blocks (those to which a pointer was found) are not shown.
==2875== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==2875== 
==2875== For lists of detected and suppressed errors, rerun with: -s
==2875== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
==2881== 
==2881== HEAP SUMMARY:
==2881==     in use at exit: 915,443 bytes in 29,364 blocks
==2881==   total heap usage: 31,724 allocs, 2,360 frees, 1,535,376 bytes allocated
==2881== 
==2881== LEAK SUMMARY:
==2881==    definitely lost: 0 bytes in 0 blocks
==2881==    indirectly lost: 0 bytes in 0 blocks
==2881==      possibly lost: 0 bytes in 0 blocks
==2881==    still reachable: 915,443 bytes in 29,364 blocks
==2881==         suppressed: 0 bytes in 0 blocks
==2881== Reachable blocks (those to which a pointer was found) are not shown.
==2881== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==2881== 
==2881== For lists of detected and suppressed errors, rerun with: -s
==2881== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)
==2854== 
==2854== HEAP SUMMARY:
==2854==     in use at exit: 486,395 bytes in 12,857 blocks
==2854==   total heap usage: 156,195 allocs, 143,338 frees, 11,199,861 bytes allocated
==2854== 
==2854== 5 bytes in 1 blocks are definitely lost in loss record 6 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x4B570BE: strdup (strdup.c:42)
==2854==    by 0x4A908C1: _prDriverSetup (pappl-retrofit.c:2073)
==2854==    by 0x5823313: papplPrinterCreate (printer.c:561)
==2854==    by 0x583F5B9: _papplSystemWebAddPrinter (system-webif.c:475)
==2854==    by 0x580EE4D: _papplClientProcessHTTP (client.c:443)
==2854==    by 0x580EF86: _papplClientRun (client.c:668)
==2854==    by 0x4B401F6: start_thread (pthread_create.c:447)
==2854==    by 0x4BC20E3: clone (clone.S:100)
==2854== 
==2854== 10 bytes in 2 blocks are possibly lost in loss record 15 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x4B570BE: strdup (strdup.c:42)
==2854==    by 0x6C37BD9: initialize_device (linux_usbfs.c:914)
==2854==    by 0x6C38611: linux_enumerate_device.isra.0 (linux_usbfs.c:1117)
==2854==    by 0x6C38DAA: UnknownInlinedFun (linux_udev.c:299)
==2854==    by 0x6C38DAA: UnknownInlinedFun (linux_usbfs.c:458)
==2854==    by 0x6C38DAA: op_init (linux_usbfs.c:410)
==2854==    by 0x6C34D42: libusb_init (core.c:2351)
==2854==    by 0x580C177: pappl_usb_find (device-usb.c:129)
==2854==    by 0x580C1FA: pappl_usb_list (device-usb.c:539)
==2854==    by 0x5809703: papplDeviceList (device.c:719)
==2854==    by 0x583F759: _papplSystemWebAddPrinter (system-webif.c:528)
==2854==    by 0x580ECD2: _papplClientProcessHTTP (client.c:376)
==2854==    by 0x580EF86: _papplClientRun (client.c:668)
==2854== 
==2854== 24 bytes in 1 blocks are possibly lost in loss record 31 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x6C344A2: usbi_add_event_source (io.c:2674)
==2854==    by 0x6C34C8B: UnknownInlinedFun (io.c:1176)
==2854==    by 0x6C34C8B: libusb_init (core.c:2342)
==2854==    by 0x580C177: pappl_usb_find (device-usb.c:129)
==2854==    by 0x580C1FA: pappl_usb_list (device-usb.c:539)
==2854==    by 0x5809703: papplDeviceList (device.c:719)
==2854==    by 0x583F759: _papplSystemWebAddPrinter (system-webif.c:528)
==2854==    by 0x580ECD2: _papplClientProcessHTTP (client.c:376)
==2854==    by 0x580EF86: _papplClientRun (client.c:668)
==2854==    by 0x4B401F6: start_thread (pthread_create.c:447)
==2854==    by 0x4BC20E3: clone (clone.S:100)
==2854== 
==2854== 24 bytes in 1 blocks are possibly lost in loss record 32 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x6C344A2: usbi_add_event_source (io.c:2674)
==2854==    by 0x6C34CDE: UnknownInlinedFun (io.c:1184)
==2854==    by 0x6C34CDE: libusb_init (core.c:2342)
==2854==    by 0x580C177: pappl_usb_find (device-usb.c:129)
==2854==    by 0x580C1FA: pappl_usb_list (device-usb.c:539)
==2854==    by 0x5809703: papplDeviceList (device.c:719)
==2854==    by 0x583F759: _papplSystemWebAddPrinter (system-webif.c:528)
==2854==    by 0x580ECD2: _papplClientProcessHTTP (client.c:376)
==2854==    by 0x580EF86: _papplClientRun (client.c:668)
==2854==    by 0x4B401F6: start_thread (pthread_create.c:447)
==2854==    by 0x4BC20E3: clone (clone.S:100)
==2854== 
==2854== 32 bytes in 2 blocks are possibly lost in loss record 62 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x6C37E5E: UnknownInlinedFun (linux_usbfs.c:689)
==2854==    by 0x6C37E5E: initialize_device (linux_usbfs.c:985)
==2854==    by 0x6C38611: linux_enumerate_device.isra.0 (linux_usbfs.c:1117)
==2854==    by 0x6C38DAA: UnknownInlinedFun (linux_udev.c:299)
==2854==    by 0x6C38DAA: UnknownInlinedFun (linux_usbfs.c:458)
==2854==    by 0x6C38DAA: op_init (linux_usbfs.c:410)
==2854==    by 0x6C34D42: libusb_init (core.c:2351)
==2854==    by 0x580C177: pappl_usb_find (device-usb.c:129)
==2854==    by 0x580C1FA: pappl_usb_list (device-usb.c:539)
==2854==    by 0x5809703: papplDeviceList (device.c:719)
==2854==    by 0x583F759: _papplSystemWebAddPrinter (system-webif.c:528)
==2854==    by 0x580ECD2: _papplClientProcessHTTP (client.c:376)
==2854==    by 0x580EF86: _papplClientRun (client.c:668)
==2854==    by 0x4B401F6: start_thread (pthread_create.c:447)
==2854== 
==2854== 39 bytes in 1 blocks are definitely lost in loss record 65 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x4B570BE: strdup (strdup.c:42)
==2854==    by 0x5810579: pappl_socket_open (device-network.c:1695)
==2854==    by 0x580992C: papplDeviceOpen (device.c:810)
==2854==    by 0x58222AE: UnknownInlinedFun (printer-accessors.c:906)
==2854==    by 0x58222AE: papplPrinterOpenDevice (printer-accessors.c:891)
==2854==    by 0x4A9C250: prIdentify (pappl-retrofit.c:598)
==2854==    by 0x5831E05: _papplPrinterWebHome (printer-webif.c:759)
==2854==    by 0x580EE4D: _papplClientProcessHTTP (client.c:443)
==2854==    by 0x580EF86: _papplClientRun (client.c:668)
==2854==    by 0x4B401F6: start_thread (pthread_create.c:447)
==2854==    by 0x4BC20E3: clone (clone.S:100)
==2854== 
==2854== 46 bytes in 1 blocks are definitely lost in loss record 78 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x4B570BE: strdup (strdup.c:42)
==2854==    by 0x5839C85: UnknownInlinedFun (system-accessors.c:2394)
==2854==    by 0x5839C85: papplSystemSetUUID (system-accessors.c:2375)
==2854==    by 0x583672C: papplSystemCreate (system.c:207)
==2854==    by 0x4A99AF2: _prSystemCB (pappl-retrofit.c:4762)
==2854==    by 0x581DF09: _papplMainloopRunServer (mainloop-subcommands.c:652)
==2854==    by 0x5821475: papplMainloop (mainloop.c:452)
==2854==    by 0x4A8DBE7: prRetroFitPrinterApp (pappl-retrofit.c:56)
==2854==    by 0x109377: main (legacy-printer-app.c:188)
==2854== 
==2854== 78 bytes in 2 blocks are definitely lost in loss record 102 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x4B570BE: strdup (strdup.c:42)
==2854==    by 0x4A9592D: _prSetupDriverList (pappl-retrofit.c:4183)
==2854==    by 0x4A9964D: _prSetup (pappl-retrofit.c:4359)
==2854==    by 0x4A99B27: _prSystemCB (pappl-retrofit.c:4779)
==2854==    by 0x581DF09: _papplMainloopRunServer (mainloop-subcommands.c:652)
==2854==    by 0x5821475: papplMainloop (mainloop.c:452)
==2854==    by 0x4A8DBE7: prRetroFitPrinterApp (pappl-retrofit.c:56)
==2854==    by 0x109377: main (legacy-printer-app.c:188)
==2854== 
==2854== 78 bytes in 2 blocks are definitely lost in loss record 103 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x4B570BE: strdup (strdup.c:42)
==2854==    by 0x4A95C6C: _prSetupDriverList (pappl-retrofit.c:4196)
==2854==    by 0x4A9964D: _prSetup (pappl-retrofit.c:4359)
==2854==    by 0x4A99B27: _prSystemCB (pappl-retrofit.c:4779)
==2854==    by 0x581DF09: _papplMainloopRunServer (mainloop-subcommands.c:652)
==2854==    by 0x5821475: papplMainloop (mainloop.c:452)
==2854==    by 0x4A8DBE7: prRetroFitPrinterApp (pappl-retrofit.c:56)
==2854==    by 0x109377: main (legacy-printer-app.c:188)
==2854== 
==2854== 82 bytes in 2 blocks are definitely lost in loss record 110 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x4B570BE: strdup (strdup.c:42)
==2854==    by 0x4A959B4: _prSetupDriverList (pappl-retrofit.c:4203)
==2854==    by 0x4A9964D: _prSetup (pappl-retrofit.c:4359)
==2854==    by 0x4A99B27: _prSystemCB (pappl-retrofit.c:4779)
==2854==    by 0x581DF09: _papplMainloopRunServer (mainloop-subcommands.c:652)
==2854==    by 0x5821475: papplMainloop (mainloop.c:452)
==2854==    by 0x4A8DBE7: prRetroFitPrinterApp (pappl-retrofit.c:56)
==2854==    by 0x109377: main (legacy-printer-app.c:188)
==2854== 
==2854== 98 bytes in 2 blocks are definitely lost in loss record 118 of 174
==2854==    at 0x484280F: malloc (vg_replace_malloc.c:442)
==2854==    by 0x4B570BE: strdup (strdup.c:42)
==2854==    by 0x4A95D64: _prSetupDriverList (pappl-retrofit.c:4136)
==2854==    by 0x4A9964D: _prSetup (pappl-retrofit.c:4359)
==2854==    by 0x4A99B27: _prSystemCB (pappl-retrofit.c:4779)
==2854==    by 0x581DF09: _papplMainloopRunServer (mainloop-subcommands.c:652)
==2854==    by 0x5821475: papplMainloop (mainloop.c:452)
==2854==    by 0x4A8DBE7: prRetroFitPrinterApp (pappl-retrofit.c:56)
==2854==    by 0x109377: main (legacy-printer-app.c:188)
==2854== 
==2854== 256 bytes in 2 blocks are possibly lost in loss record 141 of 174
==2854==    at 0x4849E60: calloc (vg_replace_malloc.c:1595)
==2854==    by 0x6C339E1: usbi_alloc_device (core.c:708)
==2854==    by 0x6C385EA: linux_enumerate_device.isra.0 (linux_usbfs.c:1113)
==2854==    by 0x6C38DAA: UnknownInlinedFun (linux_udev.c:299)
==2854==    by 0x6C38DAA: UnknownInlinedFun (linux_usbfs.c:458)
==2854==    by 0x6C38DAA: op_init (linux_usbfs.c:410)
==2854==    by 0x6C34D42: libusb_init (core.c:2351)
==2854==    by 0x580C177: pappl_usb_find (device-usb.c:129)
==2854==    by 0x580C1FA: pappl_usb_list (device-usb.c:539)
==2854==    by 0x5809703: papplDeviceList (device.c:719)
==2854==    by 0x583F759: _papplSystemWebAddPrinter (system-webif.c:528)
==2854==    by 0x580ECD2: _papplClientProcessHTTP (client.c:376)
==2854==    by 0x580EF86: _papplClientRun (client.c:668)
==2854==    by 0x4B401F6: start_thread (pthread_create.c:447)
==2854== 
==2854== 424 (216 direct, 208 indirect) bytes in 1 blocks are definitely lost in loss record 151 of 174
==2854==    at 0x4849E60: calloc (vg_replace_malloc.c:1595)
==2854==    by 0x4871005: cupsArrayNew3 (array.c:742)
==2854==    by 0x4A995AC: _prSetup (pappl-retrofit.c:4315)
==2854==    by 0x4A99B27: _prSystemCB (pappl-retrofit.c:4779)
==2854==    by 0x581DF09: _papplMainloopRunServer (mainloop-subcommands.c:652)
==2854==    by 0x5821475: papplMainloop (mainloop.c:452)
==2854==    by 0x4A8DBE7: prRetroFitPrinterApp (pappl-retrofit.c:56)
==2854==    by 0x109377: main (legacy-printer-app.c:188)
==2854== 
==2854== 480 bytes in 1 blocks are possibly lost in loss record 152 of 174
==2854==    at 0x4849E60: calloc (vg_replace_malloc.c:1595)
==2854==    by 0x4011A63: UnknownInlinedFun (rtld-malloc.h:44)
==2854==    by 0x4011A63: allocate_dtv (dl-tls.c:370)
==2854==    by 0x40124E1: _dl_allocate_tls (dl-tls.c:629)
==2854==    by 0x4B40D53: allocate_stack (allocatestack.c:429)
==2854==    by 0x4B40D53: pthread_create@@GLIBC_2.34 (pthread_create.c:655)
==2854==    by 0x4CF4270: avahi_threaded_poll_start (thread-watch.c:134)
==2854==    by 0x580C44F: UnknownInlinedFun (dnssd.c:194)
==2854==    by 0x580C44F: _papplDNSSDInit (dnssd.c:110)
==2854==    by 0x580C8DB: _papplSystemRegisterDNSSDNoLock (dnssd.c:1007)
==2854==    by 0x5837D05: papplSystemRun (system.c:531)
==2854==    by 0x581E24F: _papplMainloopRunServer (mainloop-subcommands.c:806)
==2854==    by 0x5821475: papplMainloop (mainloop.c:452)
==2854==    by 0x4A8DBE7: prRetroFitPrinterApp (pappl-retrofit.c:56)
==2854==    by 0x109377: main (legacy-printer-app.c:188)
==2854== 
==2854== 480 bytes in 1 blocks are possibly lost in loss record 153 of 174
==2854==    at 0x4849E60: calloc (vg_replace_malloc.c:1595)
==2854==    by 0x4011A63: UnknownInlinedFun (rtld-malloc.h:44)
==2854==    by 0x4011A63: allocate_dtv (dl-tls.c:370)
==2854==    by 0x40124E1: _dl_allocate_tls (dl-tls.c:629)
==2854==    by 0x4B40D53: allocate_stack (allocatestack.c:429)
==2854==    by 0x4B40D53: pthread_create@@GLIBC_2.34 (pthread_create.c:655)
==2854==    by 0x5837F97: papplSystemRun (system.c:620)
==2854==    by 0x581E24F: _papplMainloopRunServer (mainloop-subcommands.c:806)
==2854==    by 0x5821475: papplMainloop (mainloop.c:452)
==2854==    by 0x4A8DBE7: prRetroFitPrinterApp (pappl-retrofit.c:56)
==2854==    by 0x109377: main (legacy-printer-app.c:188)
==2854== 
==2854== 512 bytes in 2 blocks are possibly lost in loss record 154 of 174
==2854==    at 0x484A074: realloc (vg_replace_malloc.c:1690)
==2854==    by 0x6C37CA7: UnknownInlinedFun (libusbi.h:251)
==2854==    by 0x6C37CA7: initialize_device (linux_usbfs.c:957)
==2854==    by 0x6C38611: linux_enumerate_device.isra.0 (linux_usbfs.c:1117)
==2854==    by 0x6C38DAA: UnknownInlinedFun (linux_udev.c:299)
==2854==    by 0x6C38DAA: UnknownInlinedFun (linux_usbfs.c:458)
==2854==    by 0x6C38DAA: op_init (linux_usbfs.c:410)
==2854==    by 0x6C34D42: libusb_init (core.c:2351)
==2854==    by 0x580C177: pappl_usb_find (device-usb.c:129)
==2854==    by 0x580C1FA: pappl_usb_list (device-usb.c:539)
==2854==    by 0x5809703: papplDeviceList (device.c:719)
==2854==    by 0x583F759: _papplSystemWebAddPrinter (system-webif.c:528)
==2854==    by 0x580ECD2: _papplClientProcessHTTP (client.c:376)
==2854==    by 0x580EF86: _papplClientRun (client.c:668)
==2854==    by 0x4B401F6: start_thread (pthread_create.c:447)
==2854== 
==2854== 672 bytes in 42 blocks are definitely lost in loss record 157 of 174
==2854==    at 0x4849E60: calloc (vg_replace_malloc.c:1595)
==2854==    by 0x4A95825: _prSetupDriverList (pappl-retrofit.c:4139)
==2854==    by 0x4A9964D: _prSetup (pappl-retrofit.c:4359)
==2854==    by 0x4A99B27: _prSystemCB (pappl-retrofit.c:4779)
==2854==    by 0x581DF09: _papplMainloopRunServer (mainloop-subcommands.c:652)
==2854==    by 0x5821475: papplMainloop (mainloop.c:452)
==2854==    by 0x4A8DBE7: prRetroFitPrinterApp (pappl-retrofit.c:56)
==2854==    by 0x109377: main (legacy-printer-app.c:188)
==2854== 
==2854== LEAK SUMMARY:
==2854==    definitely lost: 1,314 bytes in 54 blocks
==2854==    indirectly lost: 208 bytes in 6 blocks
==2854==      possibly lost: 1,818 bytes in 12 blocks
==2854==    still reachable: 483,055 bytes in 12,785 blocks
==2854==         suppressed: 0 bytes in 0 blocks
==2854== Reachable blocks (those to which a pointer was found) are not shown.
==2854== To see them, rerun with: --leak-check=full --show-leak-kinds=all
==2854== 
==2854== For lists of detected and suppressed errors, rerun with: -s
==2854== ERROR SUMMARY: 17 errors from 17 contexts (suppressed: 0 from 0)
